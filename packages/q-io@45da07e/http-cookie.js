var QS=require("qs");exports.parse=function(e,t){t=t||new Date;var n={},i=e.split(/[;,]/g),r=i.shift().split("=");return n.key=r[0],n.value=r[1],i.forEach(function(e){var i=e.split("=").map(function(e){return e.trim()}),r=i[0],a=i[1];/^domain$/i.test(r)?n.domain=a:/^path$/i.test(r)?n.path=a:/^expires$/i.test(r)?n.expires=new Date(+new Date+(new Date(a)-t)):/^max-age$/i.test(r)?n.expires=new Date((new Date).getTime()+1e3*a):/^secure$/i.test(r)?n.secure=!0:/^httponly$/i.test(r)&&(n.httpOnly=!0)}),n},exports.stringify=function(e,t,n){var i=encodeURIComponent(e)+"="+encodeURIComponent(t);return n&&(n.domain&&(i+="; Domain="+encodeURIComponent(n.domain)),n.path&&(i+="; Path="+encodeURIComponent(n.path)),n.expires&&(i+="; Expires="+n.expires.toGMTString()),n.secure&&(i+="; Secure"),n.httpOnly&&(i+="; HttpOnly")),i};