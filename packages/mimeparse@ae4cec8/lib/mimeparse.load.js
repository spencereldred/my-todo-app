montageDefine("ae4cec8","lib/mimeparse",{dependencies:[],factory:function(e,t){function n(e){for(var n=[],r=e.split(","),i=0;r.length>i;i++)n.push(t.parseMediaRange(r[i]));return n}t.parseMimeType=function(e){for(var t,n,r={},i=e.split(";"),a=0;i.length>a;a++){var s=i[a].split("=");2===s.length&&(r[s[0].trim()]=s[1].trim())}return t=i[0].replace(/^\s+/,"").replace(/\s+$/,""),"*"===t&&(t="*/*"),n=t.split("/"),[n[0],n[1],r]},t.parseMediaRange=function(e){var n,r=t.parseMimeType(e);return r[2].q?(n=parseFloat(r[2].q),isNaN(n)?r[2].q="1":(n>1||0>n)&&(r[2].q="1")):r[2].q="1",r},t.fitnessAndQualityParsed=function(e,n){for(var r=-1,i=0,a=t.parseMediaRange(e),s=a[0],o=a[1],l=a[2],c=0;n.length>c;c++){var u=n[c],h=u[0],d=u[1],p=u[2];if(!(h!==s&&"*"!==h&&"*"!==s||d!==o&&"*"!==d&&"*"!==o)){var f=0;for(var m in l)"q"!==m&&p[m]&&p[m]===l[m]&&(f+=1);var g=h===s?100:0;g+=d===o?10:0,g+=f,g>r&&(r=g,i=p.q)}}return[r,parseFloat(i)]},t.qualityParsed=function(e,n){return t.fitnessAndQualityParsed(e,n)[1]},t.quality=function(e,r){return t.qualityParsed(e,n(r))},t.bestMatch=function(e,r){for(var i=n(r),a=[],s=0;e.length>s;s++)a.push([t.fitnessAndQualityParsed(e[s],i),e[s]]);return a.sort(),a[a.length-1][0][1]?a[a.length-1][1]:""}}});